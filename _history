{"entries":[{"timestamp":1771883561190,"editorVersion":"4.0.7","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":131,"diffs":[[1,"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <variables></variables>\n  <block type=\"pxt-on-start\" x=\"0\" y=\"0\"></block>\n</xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":1226,"diffs":[[1," "]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":67,"length1":195,"diffs":[[1,"        \"device\": \"*\"\n"]]},{"start1":174,"length1":41,"diffs":[[1,"        \"assets.json\"\n"]]},{"start1":203,"length1":31,"diffs":[[1,"    \"additionalFilePaths\": []\n"]]}]},{"type":"added","filename":"test.ts","value":"\nconst en_US = new l10n.Locale(\"en_US\", \"English (US)\", \"English (US)\", {\n    \"test\": \"Hi, {}. This is a test sentence.\"\n})\n\nconst hr_HR = new l10n.Locale(\"hr_HR\", \"Croatian\", \"Hrvatski\", {\n    \"test\": \"Bok, {}. Ovo je testna re훾enica.\"\n})\n\nconst de_DE = new l10n.Locale(\"de_DE\", \"German\", \"Deutsch\", {\n    \"test\": \"Hallo, {}. Dies ist ein Testsatz.\"\n})\n\nconst LOCALES = [\n    en_US,\n    hr_HR,\n    de_DE\n]\n\nblockMenu.showMenu(LOCALES.map((value) => value.name), MenuStyle.List, MenuLocation.BottomRight)\nblockMenu.onMenuOptionSelected((option: string, index: number) => {\n    l10n.setLocale(LOCALES[index]);\n    blockMenu.setControlsEnabled(false);\n    blockMenu.closeMenu();\n    splash();\n})\n\nfunction splash() {\n    game.splash(l10n.t(\"test\"));\n}"}]},{"timestamp":1771886106192,"editorVersion":"4.0.7","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":737,"length1":176,"diffs":[[1,"    export function localeSet(): boolean {\n"]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":156,"length1":62,"diffs":[[1,"        \"String formatting\": \"github:sargedev/string-formatting#3d2e8479efb3d5f9bcaa3e662a37acaeadb8459c\"\n"]]}]},{"type":"edited","filename":"test.ts","patch":[{"start1":405,"length1":1,"diffs":[[1,"]\n\nblockMenu.showMenu(LOCALES.map((value) => value.name), MenuStyle.List, MenuLocation.BottomRight)\nblockMenu.onMenuOptionSelected((option: string, index: number) => {\n    l10n.setLocale(LOCALES[index]);\n    blockMenu.setControlsEnabled(false);\n    blockMenu.closeMenu();\n    splash();\n})\n\nfunction splash() {\n    game.splash(l10n.t(\"test\"));\n}"]]}]}]},{"timestamp":1772125119708,"editorVersion":"4.0.8","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":84,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" x=\"0\" y=\"0\"></block></xml>"]]}]}]},{"timestamp":1772125487307,"editorVersion":"4.0.8","changes":[{"type":"edited","filename":"pxt.json","patch":[{"start1":351,"length1":44,"diffs":[[1,""]]}]}]}],"snapshots":[{"timestamp":1771883561189,"editorVersion":"4.0.7","text":{"main.blocks":"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <variables></variables>\n  <block type=\"pxt-on-start\" x=\"0\" y=\"0\"></block>\n</xml>","main.ts":" ","README.md":" ","assets.json":"","pxt.json":"{\n    \"name\": \"l10n\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\"\n    ],\n    \"additionalFilePaths\": []\n}\n"}},{"timestamp":1771885383233,"editorVersion":"4.0.7","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" x=\"0\" y=\"0\"></block></xml>","main.ts":"\nnamespace l10n {\n\n    interface SymbolTable {\n        [key: string]: string;\n    }\n\n    export class Locale {\n        code: string;\n        name: string;\n        sname: string;\n        symbols: SymbolTable;\n\n        constructor(code: string, name: string, sname: string, symbols?: SymbolTable) {\n            this.code = code;\n            this.name = name;\n            this.sname = sname;\n            this.symbols = symbols || {};\n        }\n\n        get(name: string) {\n            return this.symbols[name];\n        }\n\n        register(name: string, value: string) {\n            this.symbols[name] = value;\n        }\n    }\n\n    let LOCALE: Locale = null;\n\n    export function setLocale(locale: Locale) {\n        LOCALE = locale;\n    }\n\n    export function t(name: string, args?: string[]) {\n        if (!LOCALE) throw \"Language locale is undefined\";\n        return tl(LOCALE, name, args);\n    }\n\n    export function tl(locale: Locale, name: string, args?: string[]) {\n        return locale.get(name);\n    }\n}","README.md":" ","assets.json":"","test.ts":"\nconst en_US = new l10n.Locale(\"en_US\", \"English (US)\", \"English (US)\", {\n    \"test\": \"This is a test sentence.\"\n})\n\nconst hr_HR = new l10n.Locale(\"hr_HR\", \"Croatian\", \"Hrvatski\", {\n    \"test\": \"Ovo je testna re훾enica.\"\n})\n\nconst de_DE = new l10n.Locale(\"de_DE\", \"German\", \"Deutsch\", {\n    \"test\": \"Dies ist ein Testsatz.\"\n})\n\n\nconst LOCALES = [\n    en_US,\n    hr_HR,\n    de_DE\n]\n\nblockMenu.showMenu(text, MenuStyle.List, MenuLocation.BottomRight)","pxt.json":"{\n    \"name\": \"l10n\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\",\n        \"block-menu\": \"github:riknoll/arcade-custom-menu#v0.0.1\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\",\n        \"test.ts\"\n    ],\n    \"preferredEditor\": \"tsprj\"\n}\n"}},{"timestamp":1771963378901,"editorVersion":"4.0.7","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" x=\"0\" y=\"0\"></block></xml>","main.ts":"\nnamespace l10n {\n\n    interface SymbolTable {\n        [key: string]: string;\n    }\n\n    export class Locale {\n        code: string;\n        name: string;\n        sname: string;\n        symbols: SymbolTable;\n\n        constructor(code: string, name: string, sname: string, symbols?: SymbolTable) {\n            this.code = code;\n            this.name = name;\n            this.sname = sname;\n            this.symbols = symbols || {};\n        }\n\n        get(name: string) {\n            return this.symbols[name];\n        }\n\n        register(name: string, value: string) {\n            this.symbols[name] = value;\n        }\n    }\n\n    let LOCALE: Locale = null;\n\n    export function setLocale(locale: Locale) {\n        LOCALE = locale;\n    }\n\n    export function localeSet(): boolean {\n        return !!LOCALE;\n    }\n\n    export function t(name: string, args?: string[]) {\n        if (!LOCALE) throw \"Language locale is undefined\";\n        return tl(LOCALE, name, args);\n    }\n\n    export function tl(locale: Locale, name: string, args?: string[]) {\n        let result = locale.get(name);\n        if (!result) throw `Identifier '${name}' not found in locale '${locale.code}'`;\n        return text.format(result, args || []);\n    }\n}","README.md":" ","assets.json":"","test.ts":"\nconst en_US = new l10n.Locale(\"en_US\", \"English (US)\", \"English (US)\", {\n    \"test\": \"Hi, {}. This is a test sentence.\"\n})\n\nconst hr_HR = new l10n.Locale(\"hr_HR\", \"Croatian\", \"Hrvatski\", {\n    \"test\": \"Bok, {}. Ovo je testna re훾enica.\"\n})\n\nconst de_DE = new l10n.Locale(\"de_DE\", \"German\", \"Deutsch\", {\n    \"test\": \"Hallo, {}. Dies ist ein Testsatz.\"\n})\n\nconst LOCALES = [\n    en_US,\n    hr_HR,\n    de_DE\n]\n\nblockMenu.showMenu(LOCALES.map((value) => value.name), MenuStyle.List, MenuLocation.BottomRight)\nblockMenu.onMenuOptionSelected((option: string, index: number) => {\n    l10n.setLocale(LOCALES[index]);\n    blockMenu.setControlsEnabled(false);\n    blockMenu.closeMenu();\n    splash();\n})\n\nfunction splash() {\n    game.splash(l10n.t(\"test\"));\n}","pxt.json":"{\n    \"name\": \"l10n\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\",\n        \"block-menu\": \"github:riknoll/arcade-custom-menu#v0.0.1\",\n        \"String formatting\": \"github:sargedev/string-formatting#3d2e8479efb3d5f9bcaa3e662a37acaeadb8459c\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\",\n        \"test.ts\"\n    ],\n    \"preferredEditor\": \"tsprj\"\n}\n"}},{"timestamp":1772125119708,"editorVersion":"4.0.8","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" x=\"0\" y=\"0\"></block></xml>","main.ts":"\nnamespace l10n {\n\n    interface SymbolTable {\n        [key: string]: string;\n    }\n\n    export class Locale {\n        code: string;\n        name: string;\n        sname: string;\n        symbols: SymbolTable;\n\n        constructor(code: string, name: string, sname: string, symbols?: SymbolTable) {\n            this.code = code;\n            this.name = name;\n            this.sname = sname;\n            this.symbols = symbols || {};\n        }\n\n        get(name: string) {\n            return this.symbols[name];\n        }\n\n        register(name: string, value: string) {\n            this.symbols[name] = value;\n        }\n    }\n\n    let LOCALE: Locale = null;\n\n    export function setLocale(locale: Locale) {\n        LOCALE = locale;\n    }\n\n    export function removeLocale() {\n        LOCALE = null;\n    }\n\n    export function getLocale() {\n        return LOCALE;\n    }\n\n    export function isLocaleSet(): boolean {\n        return !!LOCALE;\n    }\n\n    export function t(name: string, args?: string[]) {\n        if (!LOCALE) throw \"Language locale is undefined\";\n        return tl(LOCALE, name, args);\n    }\n\n    export function tl(locale: Locale, name: string, args?: string[]) {\n        let result = locale.get(name);\n        if (!result) throw `Identifier '${name}' not found in locale '${locale.code}'`;\n        return text.format(result, args || []);\n    }\n}","README.md":" ","assets.json":"","test.ts":"\nconst en_US = new l10n.Locale(\"en_US\", \"English (US)\", \"English (US)\", {\n    \"test\": \"Hi, {}. This is a test sentence.\"\n})\n\nconst hr_HR = new l10n.Locale(\"hr_HR\", \"Croatian\", \"Hrvatski\", {\n    \"test\": \"Bok, {}. Ovo je testna re훾enica.\"\n})\n\nconst de_DE = new l10n.Locale(\"de_DE\", \"German\", \"Deutsch\", {\n    \"test\": \"Hallo, {}. Dies ist ein Testsatz.\"\n})\n\nconst LOCALES = [\n    en_US,\n    hr_HR,\n    de_DE\n]","pxt.json":"{\n    \"name\": \"l10n\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\",\n        \"block-menu\": \"github:riknoll/arcade-custom-menu#v0.0.1\",\n        \"BetterArrays\": \"github:sargedev/betterarrays#v1.2.2\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\",\n        \"test.ts\"\n    ],\n    \"preferredEditor\": \"tsprj\"\n}\n"}}],"shares":[],"lastSaveTime":1772125487311}